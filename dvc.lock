schema: '2.0'
stages:
  train:
    cmd: rasa data validate &&  rasa train --fixed-model-name ./models/model
    deps:
    - path: data
      md5: b69d079a379fb59a42e3ed58a136ea54.dir
      size: 2240
      nfiles: 3
    params:
      config.yml:
        pipeline:
        - name: WhitespaceTokenizer
        - name: RegexFeaturizer
        - name: LexicalSyntacticFeaturizer
        - name: CountVectorsFeaturizer
        - name: CountVectorsFeaturizer
          analyzer: char_wb
          min_ngram: 1
          max_ngram: 4
        - name: DIETClassifier
          epochs: 100
          constrain_similarities: true
        - name: EntitySynonymMapper
        - name: ResponseSelector
          epochs: 100
          constrain_similarities: true
        - name: FallbackClassifier
          threshold: 0.3
          ambiguity_threshold: 0.1
        policies:
        - name: MemoizationPolicy
        - name: RulePolicy
        - name: TEDPolicy
          max_history: 5
          epochs: 100
          constrain_similarities: true
    outs:
    - path: ./models/
      md5: 3a80c4c2f9ed75c8af02e6938056c6f9.dir
      size: 23029841
      nfiles: 1
  test:
    cmd: rasa test --out ./results --model ./models/model.tar.gz
    deps:
    - path: ./models
      md5: 3a80c4c2f9ed75c8af02e6938056c6f9.dir
      size: 23029841
      nfiles: 1
    params:
      config.yml:
        pipeline:
        - name: WhitespaceTokenizer
        - name: RegexFeaturizer
        - name: LexicalSyntacticFeaturizer
        - name: CountVectorsFeaturizer
        - name: CountVectorsFeaturizer
          analyzer: char_wb
          min_ngram: 1
          max_ngram: 4
        - name: DIETClassifier
          epochs: 100
          constrain_similarities: true
        - name: EntitySynonymMapper
        - name: ResponseSelector
          epochs: 100
          constrain_similarities: true
        - name: FallbackClassifier
          threshold: 0.3
          ambiguity_threshold: 0.1
        policies:
        - name: MemoizationPolicy
        - name: RulePolicy
        - name: TEDPolicy
          max_history: 5
          epochs: 100
          constrain_similarities: true
    outs:
    - path: ./results/TEDPolicy_report.json
      md5: 99914b932bd37a50b983c5e7c90ae93b
      size: 2
    - path: ./results/intent_errors.json
      md5: fde10a06eb1e0ef1ca6c6c97dab22623
      size: 161
    - path: ./results/intent_report.json
      md5: 66b37ba5da0b70b1176c95ca508e39a6
      size: 1296
    - path: ./results/story_report.json
      md5: 9c5bccafab9c065e650a440fb5a4aec6
      size: 1780
